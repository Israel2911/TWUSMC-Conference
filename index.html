<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>3D Globe Clock + GLOVE</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #000; overflow: hidden; height: 100vh; }
    #container { position: relative; width: 100vw; height: 100vh; }
    canvas { display: block; width: 100%; height: 100%; }
    .controls { position: absolute; top: 10px; right: 10px; display: flex; gap: 10px; z-index: 100; }
    .btn { padding: 8px 15px; background: rgba(0,255,136,0.3); border: 1px solid #00ff88; color: white; border-radius: 20px; cursor: pointer; font-weight: bold; }
    .status { position: absolute; top: 10px; left: 10px; color: #00ff88; font-weight: bold; z-index: 100; }
  </style>
</head>
<body>
  <div id="container">
    <div class="status" id="status">Globe + Glove Active!</div>
    <div class="controls">
      <button class="btn" id="toggleClocks">Hide Clocks</button>
      <button class="btn" id="toggleGlove">Show Glove</button>
      <button class="btn" id="resetView">Reset</button>
    </div>
  </div>

  <script>
    const container = document.getElementById('container');
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    container.appendChild(renderer.domElement);

    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    camera.position.set(0, 0, 2.5);

    // LIGHTS
    scene.add(new THREE.AmbientLight(0xffffff, 1.2));
    scene.add(new THREE.DirectionalLight(0xffffff, 2.0, 10).position.set(1, 1, 1));

    const globeGroup = new THREE.Group();
    scene.add(globeGroup);

    // GLOBE (YOUR WORKING VERSION)
    const globeGeometry = new THREE.SphereGeometry(1, 64, 64);
    globeGroup.add(new THREE.Mesh(globeGeometry, new THREE.MeshLambertMaterial({ 
      color: 0x4169e1, emissive: 0x1e3a8a, emissiveIntensity: 0.4 
    })));

    // WIREFRAME
    globeGroup.add(new THREE.Mesh(
      new THREE.SphereGeometry(1.02, 64, 64),
      new THREE.MeshBasicMaterial({ color: 0x00ff88, wireframe: true, transparent: true, opacity: 1.0 })
    ));

    // ðŸ§¤ 3D GLOVE MODEL (floating above globe)
    const gloveGroup = new THREE.Group();
    scene.add(gloveGroup);
    gloveGroup.position.set(0, 1.8, 0);
    gloveGroup.scale.set(0.3, 0.3, 0.3);
    gloveGroup.visible = false;

    // Simple glove shape (5 fingers + palm)
    const gloveMaterial = new THREE.MeshPhongMaterial({ 
      color: 0xffddaa, emissive: 0xffaa77, emissiveIntensity: 0.3, shininess: 100 
    });
    
    // Palm
    const palm = new THREE.Mesh(new THREE.BoxGeometry(0.4, 0.8, 0.2), gloveMaterial);
    palm.position.set(0, -0.2, 0);
    gloveGroup.add(palm);
    
    // Fingers (simplified)
    for(let i = 0; i < 5; i++) {
      const finger = new THREE.Mesh(new THREE.CylinderGeometry(0.05, 0.05, 0.6, 8), gloveMaterial);
      finger.position.set((i-2)*0.15, 0.4, 0);
      finger.rotation.z = 0.1;
      gloveGroup.add(finger);
    }

    // YOUR COUNTRIES (same working code)
    const countries = [
      {name: 'India', lat: 22, lng: 78, tz: 'Asia/Kolkata', color: 0xff6600},
      {name: 'Canada', lat: 56.1304, lng: -106.3468, tz: 'America/Vancouver', color: 0xff0000},
      // ... rest unchanged
    ];
    // [Shortened for brevity - same country code as before]

    let showClocks = true;
    let showGlove = false;
    
    document.getElementById('toggleGlove').onclick = () => {
      showGlove = !showGlove;
      gloveGroup.visible = showGlove;
    };

    // ANIMATION
    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      
      globeGroup.rotation.y += 0.005;
      gloveGroup.rotation.y += 0.01;
      gloveGroup.position.y = 1.8 + Math.sin(Date.now() * 0.003) * 0.1;
      
      renderer.render(scene, camera);
    }
    animate();
  </script>
</body>
</html>
